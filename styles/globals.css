/* Tailwind v4 */
@import "tailwindcss";

/* =========================================
   THEME TOKENS
========================================= */
@theme {
  --color-brand: #1D2D5E;
  --color-brand-dark: #0A1024;
  --color-gold: #C9A86E;
  --color-gold-soft: #B89458;
  --shadow-gold: 0 10px 30px -12px rgb(201 168 110 / 0.45);
}

/* =========================================
   ROOT VARS (UNIFICATE)
========================================= */
:root {
  /* palette */
  --brand: #1D2D5E;
  --brand-dark: #0A1024;
  --gold: #C9A86E;
  --gold-400: #E7D2A4;

  /* alias/compat */
  --blue: var(--brand);

  /* page theme (default dark) */
  --page-bg: var(--brand-dark);
  --page-text: #ffffff;

  /* vetro */
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-stroke: rgba(255, 255, 255, 0.10);
  --glass-stroke-strong: rgba(255, 255, 255, 0.16);

  /* font stack (derivano da next/font in _document) */
  --ff-sans: var(--font-inter), system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  --ff-serif: var(--font-playfair), ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;

  /* Fallback altezza header */
  --header-h: 56px;

  /* Hero metrics unificate */
  --hero-pt: clamp(5.5rem, 7vw, 7rem);
  --hero-pb: clamp(2.5rem, 4vw, 3.5rem);
  --hero-media-w: clamp(320px, 44vw, 620px);
  --hero-media-h: clamp(320px, 38vw, 560px);
  --hero-media-top: -24px;
}

/* =========================================
   THEMES WRAPPER
========================================= */
.theme-dark {
  --page-bg: var(--brand-dark);
  --page-text: #ffffff;
}
.theme-light {
  --page-bg: #ffffff;
  --page-text: #0b1023;
}

/* =========================================
   BASE / RESET
========================================= */
html, body, #__next {
  min-height: 100%;
  background: var(--page-bg);
  color: var(--page-text);
}
html, body { overflow-x: clip; } /* niente barra orizzontale */

body { font-family: var(--ff-sans); }
.h-serif { font-family: var(--ff-serif); }

::selection {
  background: color-mix(in oklab, var(--gold) 26%, transparent);
}

img, svg, video, canvas { display: block; max-width: 100%; }
video { height: auto; }

/* =========================================
   UTILITY
========================================= */
.glass { @apply bg-white/5 backdrop-blur border border-white/10; }
.section { @apply py-20 sm:py-28; }
.container { @apply mx-auto w-full max-w-7xl px-4 sm:px-6 lg:px-8; }

/* Spotlight per hero */
.mask-soft {
  -webkit-mask-image: radial-gradient(260px 260px at var(--x) var(--y), black 0%, transparent 60%);
  mask-image: radial-gradient(260px 260px at var(--x) var(--y), black 0%, transparent 60%);
}

/* Accenti oro (bordo + glow on hover) */
.gold-acc {
  position: relative;
  border: 1px solid var(--glass-stroke);
  background: var(--glass-bg);
}
.gold-acc::after {
  content: "";
  pointer-events: none;
  position: absolute; inset: -1px;
  border-radius: inherit;
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  opacity: 0;
  transition: opacity .25s ease;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  padding: 1px;
}
.gold-acc:hover::after { opacity: .55; }

/* Scrollbar utility (mobile) */
.scrollbar-none { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-none::-webkit-scrollbar { display: none; }

/* =========================================
   HERO MEDIA (MOBILE)
========================================= */
.hero-mobile-media {
  aspect-ratio: 100 / 46;
  max-height: 320px;
}
@media (orientation: landscape) and (max-width: 768px) {
  .hero-mobile-media {
    aspect-ratio: 100 / 40;
    max-height: 280px;
  }
}

/* =========================================
   TAILWIND PLUGINS
========================================= */
@plugin "@tailwindcss/forms";
@plugin "@tailwindcss/typography";
@plugin "@tailwindcss/aspect-ratio";

/* =========================================
   ACCESSIBILITY (reduced motion)
========================================= */
@media (prefers-reduced-motion: reduce) {
  * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* =========================================
   MEDIAZIONE LIGHT THEME — OVERRIDES
   (non invasivi, remap su classi note)
========================================= */

/* Remap testi bianchi → blu brand (conservando le opacità) */
.theme-light .text-white{ color: var(--color-brand) !important; }
.theme-light .text-white\/95{ color: color(from var(--color-brand) srgb r g b / 0.95) !important; }
.theme-light .text-white\/92{ color: color(from var(--color-brand) srgb r g b / 0.92) !important; }
.theme-light .text-white\/90{ color: color(from var(--color-brand) srgb r g b / 0.90) !important; }
.theme-light .text-white\/88{ color: color(from var(--color-brand) srgb r g b / 0.88) !important; }
.theme-light .text-white\/85{ color: color(from var(--color-brand) srgb r g b / 0.85) !important; }
.theme-light .text-white\/80{ color: color(from var(--color-brand) srgb r g b / 0.80) !important; }
.theme-light .text-white\/75{ color: color(from var(--color-brand) srgb r g b / 0.75) !important; }
.theme-light .text-white\/72{ color: color(from var(--color-brand) srgb r g b / 0.72) !important; }
.theme-light .text-white\/70{ color: color(from var(--color-brand) srgb r g b / 0.70) !important; }
.theme-light .text-white\/65{ color: color(from var(--color-brand) srgb r g b / 0.65) !important; }
.theme-light .text-white\/60{ color: color(from var(--color-brand) srgb r g b / 0.60) !important; }
.theme-light .text-white\/50{ color: color(from var(--color-brand) srgb r g b / 0.50) !important; }
.theme-light .text-white\/45{ color: color(from var(--color-brand) srgb r g b / 0.45) !important; }

/* Background scuro → bianco */
.theme-light .bg-\[var\(--brand-dark\)\] { background-color: #ffffff !important; }

/* Icone/bordi bianchi → blu brand */
.theme-light .border-white { border-color: var(--color-brand) !important; }
.theme-light .fill-white { fill: var(--color-brand) !important; }
.theme-light .stroke-white { stroke: var(--color-brand) !important; }

/* Link + focus ring coerenti col brand */
.theme-light a { color: var(--color-brand); }
.theme-light :where(:focus-visible) { outline-color: var(--color-brand); }

/* =========================================
   HERO: LIGHT THEME HARD FIX
========================================= */
.theme-light #hero-careers,
#hero-careers {
  color: var(--color-brand) !important;
}
#hero-careers h1,
#hero-careers h1 span {
  color: var(--color-brand) !important;
}
#hero-careers .text-gold {
  color: var(--gold) !important;
}

/* === HERO — leggibilità senza overlay: radial mask sull'immagine ========= */
/* slider rapidi (tarali a occhio) */
:root{
  --hero-mask-rx: 56vw;      /* raggio orizzontale della maschera */
  --hero-mask-ry: 38vh;      /* raggio verticale */
  --hero-mask-y:  42%;       /* posizione verticale del centro (40–48%) */
  --hero-center-dim: .35;    /* 0=trasparente (nasconde), 1=nessuna attenuazione; .30–.45 perfetto */
  --hero-img-opacity: .76;   /* presenza generale immagine .70–.82 */
}

/* 1) Applica una MASCHERA alla sola immagine (niente overlay sopra al testo) */
#hero-careers .fx-on-light{
  opacity: var(--hero-img-opacity) !important;
  mix-blend-mode: normal !important;
  filter:
    brightness(1.02)
    contrast(1.10)
    saturate(1.08)
    drop-shadow(0 12px 28px rgba(0,0,0,.12));

  /* Maschera radiale: al centro l'immagine è attenuata, ai bordi piena */
  -webkit-mask-image: radial-gradient(
    var(--hero-mask-rx) var(--hero-mask-ry) at 50% var(--hero-mask-y),
    rgba(0,0,0, var(--hero-center-dim)),  /* centro: attenuato (non buco) */
    rgba(0,0,0, 1) 68%                    /* bordi: pieni */
  );
  mask-image: radial-gradient(
    var(--hero-mask-rx) var(--hero-mask-ry) at 50% var(--hero-mask-y),
    rgba(0,0,0, var(--hero-center-dim)),
    rgba(0,0,0, 1) 68%
  );
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
}

/* 2) Togli rumore di fondo: il video non compete più */
#hero-careers video{ opacity: .02 !important; } /* o display:none; se preferisci */

/* 3) Micro-stacco “ottico” del titolo (senza contorni pesanti) */
#hero-careers h1{
  text-shadow:
    0 1px 2px rgba(255,255,255,.45), /* schiarisce i bordi su zone leggermente scure */
    0 0 1px rgba(0,0,0,.12);
}
#hero-careers h1 .text-gold{
  color: color-mix(in oklab, var(--gold) 92%, #3f2f08 8%) !important;
  text-shadow:
    0 1px 1px rgba(255,255,255,.45),
    0 0 12px rgba(212,175,55,.22);
}

/* 4) Descrizione un filo più leggibile (resta blu brand) */
#hero-careers p{
  color: color-mix(in oklab, var(--color-brand) 90%, #0b0f1e 10%) !important;
}

/* === GOLD LEGIBILITY — same brand color, better edge =================== */
/* slider minimi se vuoi ritoccare la forza degli effetti */
:root{
  --gold-edge-dark: .38;   /* 0.28–.48: contorno scuro (brand-dark) */
  --gold-edge-light: .40;  /* 0.26–.46: filo chiaro per stacco */
  --gold-glow-soft: .22;   /* .16–.28: alone morbido dorato */
}

/* Mantieni il colore ESATTO di brand (nessun gradient, niente mix) */
#hero-careers h1 .text-gold{
  color: var(--gold) !important;

  /* micro-contorno scuro (derivato dal brand-dark) */
  -webkit-text-stroke: 0.45px rgba(10,16,36, var(--gold-edge-dark));

  /* ombre leggere che non cambiano la tinta */
  text-shadow:
    0 1px 0 rgba(255,255,255, var(--gold-edge-light)),   /* filo chiaro ottico */
    0 0 18px rgba(201,168,110, var(--gold-glow-soft));   /* glow dorato soft */

  /* un filo di presenza senza virare colore */
  filter: saturate(1.00) contrast(1.04);
}

/* Per il resto del titolo blu: stacco minimo, no viraggi */
#hero-careers h1{
  text-shadow: 0 0 0.35px rgba(0,0,0,.16);
}

/* Mobile: caratteri più piccoli → bordo un pelo più deciso */
@media (max-width: 640px){
  #hero-careers h1 .text-gold{
    -webkit-text-stroke: 0.55px rgba(10,16,36, calc(var(--gold-edge-dark) + .06));
    text-shadow:
      0 1px 0 rgba(255,255,255, calc(var(--gold-edge-light) + .06)),
      0 0 18px rgba(201,168,110, calc(var(--gold-glow-soft) + .04));
  }
}
/* === HERO — Title Ribbon (banda morbida dietro all'h1) ================== */
/* knobs veloci */
:root{
  --ribbon-bg: rgba(255,255,255,0.74); /* tinta banda (bianco soft) */
  --ribbon-warm: rgba(201,168,110,0.06); /* un filo caldo per l’oro */
  --ribbon-blur: 6px;                   /* 3–10px */
  --ribbon-pad-y: .32em;                /* spessore verticale extra */
  --ribbon-pad-x: .80em;                /* respiro laterale */
  --ribbon-fade: 26%;                   /* 18–34% attenuazione ai bordi */
  --ribbon-radius: 18px;                /* arrotondamento */
}

/* trasforma l'h1 in un blocco centrato con layer locale */
#hero-careers h1{
  position: relative;
  display: inline-block;      /* la banda segue la larghezza del testo */
  margin-inline: auto;        /* resta centrato */
  padding: 0 var(--ribbon-pad-x);
  isolation: isolate;         /* crea stacking context pulito */
  z-index: 1;
}

/* la banda vera e propria */
#hero-careers h1::before{
  content:"";
  position: absolute;
  z-index: -1;                /* dietro al testo, davanti all’immagine */
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: calc(100% + (var(--ribbon-pad-y) * 2));

  /* fondo morbido con leggero calore al centro e fade ai bordi */
  background:
    radial-gradient(120% 180% at 50% 50%, var(--ribbon-warm), transparent 70%),
    linear-gradient( to right,
      rgba(255,255,255, var(--ribbon-fade)), var(--ribbon-bg),
      rgba(255,255,255, var(--ribbon-fade))
    );

  border-radius: var(--ribbon-radius);
  -webkit-backdrop-filter: blur(var(--ribbon-blur)) saturate(.92);
  backdrop-filter: blur(var(--ribbon-blur)) saturate(.92);
  box-shadow:
    0 6px 18px rgba(0,0,0,.08),
    0 1px 0 rgba(255,255,255,.45) inset; /* micro lift */
}

/* micro-ottimizzazioni del titolo per non cambiare il brand */
#hero-careers h1{
  text-shadow: 0 0 .35px rgba(0,0,0,.16); /* stacco leggerissimo */
}
#hero-careers h1 .text-gold{
  color: var(--gold) !important;
  -webkit-text-stroke: 0.35px rgba(10,16,36,.30); /* bordo neutro sottilissimo */
  text-shadow:
    0 1px 0 rgba(255,255,255,.40),
    0 0 12px rgba(201,168,110,.20);
}

/* Mobile: banda un filo più alta e blur maggiore (immagine più “vicina”) */
@media (max-width: 640px){
  :root{
    --ribbon-blur: 8px;
    --ribbon-pad-y: .42em;
    --ribbon-fade: 30%;
  }
}
